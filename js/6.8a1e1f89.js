(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"37d5":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"AI Report",data:e.tableData,columns:e.columns,"visible-columns":e.visibleColumns,separator:"cell","row-key":"id","table-header-style":{backgroundColor:"lightblue"},"no-data-label":"You don't have any data.","fixed-center":"",bordered:"",dense:"",pagination:e.pagination,loading:e.loading},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(t){return[n("div",{staticClass:"col-2 q-table__title"},[e._v("\n        AI Report\n      ")]),n("q-space"),n("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",color:"blue",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"no-data",fn:function(t){t.icon,t.message,t.filter;return[n("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[n("span",[e._v("\n          This student has not any data available.\n        ")])])]}},{key:"body-cell-action",fn:function(t){return n("q-td",{attrs:{props:t}},[n("q-btn",{attrs:{flat:"","no-caps":"","text-color":"blue",label:"Details"},on:{click:function(n){return e.toDetailLog(t.row.id)}}})],1)}}])})],1)},r=[],s=(n("c5f6"),n("63fb")),o={name:"Report",props:{gid:{type:String,default:""}},data:function(){return{loading:!0,pagination:{page:0,rowsPerPage:20},tableData:[],visibleColumns:["id","papers","questions","percent","papertime","quetime","master","action"],columns:[{name:"id",required:!0,label:"TaskId",align:"center",field:"id",sortable:!0},{name:"papers",align:"center",label:"Total Papers",field:"papers",sortable:!0},{name:"questions",align:"center",label:"Total Questions",field:"questions",sortable:!1},{name:"percent",align:"center",label:"Correct Percent",field:"percent",sortable:!0},{name:"papertime",align:"center",label:"Avg Seconds/Paper",field:"papertime",sortable:!1},{name:"quetime",align:"center",label:"Avg Que Sec/Std Sec",field:"quetime",sortable:!1},{name:"master",align:"center",label:"Master",field:"master",sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!1}]}},computed:{},mounted:function(){var e=this;this.$apollo.mutate({mutation:s["h"],variables:{gid:this.gid}}).then((function(t){t.data.aiReport.ok?e.updateReport(t.data.aiReport.report):e.$q.dialog({title:"Alert",message:"Get AI Report Failed!"})})).catch((function(t){e.$q.dialog({title:"Alert",message:"Get AI Report Error!"}),console.log(t)}))},methods:{updateReport:function(e){this.loading=!1;var t=JSON.parse(e);if(t.length>0){console.log("Read task log updated - "+t.length),this.tableData=[];for(var n=0,a=0,r=0,s=0;s<t.length;s++)this.tableData.push({id:t[s].id,papers:Number(t[s].total_papers),questions:Number(t[s].total_ques),percent:Number(t[s].correct_perc),papertime:t[s].avg_sec_paper,quetime:t[s].avg_sec_que,master:Number(t[s].master)}),n+=Number(t[s].avg_sec_paper)*Number(t[s].total_papers),a+=Number(t[s].total_papers),r+=Number(t[s].total_ques);n=Math.round(n/60),this.tableData.push({id:"Total",papers:a,questions:r,percent:"na",papertime:String(n)+" Minutes",quetime:"na",master:"na"})}else console.log("Read task log failed!")},toDetailLog:function(e){console.log(e)}}},i=o,l=n("2877"),c=Object(l["a"])(i,a,r,!1,null,null,null);t["default"]=c.exports},"3dda":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-px-sm"},[n("q-table",{attrs:{title:"Your Students",data:e.tableData,columns:e.columns,"visible-columns":e.visibleColumns,separator:"cell","row-key":"id","table-header-style":{backgroundColor:"lightblue"},"no-data-label":"You don't have any student.","fixed-center":"",bordered:"",dense:"",loading:e.loading},scopedSlots:e._u([{key:"top",fn:function(t){return[n("div",{staticClass:"col-2 q-table__title"},[e._v("\n        Your Students\n      ")]),n("q-space"),n("q-select",{staticStyle:{"min-width":"150px"},attrs:{multiple:"",dense:"","options-dense":"","display-value":"Select Columns","emit-value":"","map-options":"",options:e.columns,"option-value":"name"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),n("q-btn",{attrs:{flat:"",round:"",icon:"add",color:"blue"},on:{click:function(t){e.addStudent=!0}}}),n("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",color:"blue",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t},nativeOn:{mousedown:function(n){return n.preventDefault(),e.rowSelected(t.row.gid)}}},[n("q-td",{key:"gid",attrs:{props:t}},[e._v("\n          "+e._s(t.row.gid)+"\n        ")]),n("q-td",{key:"name",attrs:{props:t}},[e._v("\n          "+e._s(t.row.name)+"\n        ")]),n("q-td",{key:"password",attrs:{props:t}},[e._v("\n          "+e._s(t.row.password)+"\n        ")]),n("q-td",{key:"level",attrs:{props:t}},[e._v("\n          "+e._s(t.row.level)+"\n        ")]),n("q-td",{key:"assignment",staticStyle:{color:"green"},attrs:{props:t}},[e._v("\n          "+e._s(e.newAssignment[t.row.index])+"\n          "),e.enableAi[t.row.index]?e._e():n("q-popup-edit",{attrs:{title:"Change Assignment",buttons:"",persistent:""},on:{save:e.changeAssignment},model:{value:e.newAssignment[t.row.index],callback:function(n){e.$set(e.newAssignment,t.row.index,n)},expression:"newAssignment[props.row.index]"}},[n("q-input",{attrs:{type:"text",dense:"",autofocus:"",hint:"Please using ',' to seperate tasks"},model:{value:e.newAssignment[t.row.index],callback:function(n){e.$set(e.newAssignment,t.row.index,n)},expression:"newAssignment[props.row.index]"}})],1)],1),n("q-td",{key:"isMember",attrs:{props:t}},[n("q-btn",{attrs:{flat:"","no-caps":"","text-color":"green"},on:{click:function(n){return e.toMembershipUpdate(t.row.gid)}}},[t.row.isMember?n("p",[e._v("\n              Update Membership\n            ")]):n("p",[e._v("\n              Get Membership\n            ")])])],1),n("q-td",{key:"membershipStart",attrs:{props:t}},[e._v("\n          "+e._s(t.row.membershipStart)+"\n        ")]),n("q-td",{key:"membershipStop",attrs:{props:t}},[e._v("\n          "+e._s(t.row.membershipStop)+"\n        ")]),n("q-td",{key:"aiEnabled",attrs:{props:t}},[t.row.isMember?n("q-toggle",{attrs:{dense:"",color:"orange"},on:{input:function(n){return e.aiEnable(e.enableAi[t.row.index],t.row.gid,t.row)}},model:{value:e.enableAi[t.row.index],callback:function(n){e.$set(e.enableAi,t.row.index,n)},expression:"enableAi[props.row.index]"}}):n("q-btn",{attrs:{flat:"","no-caps":"","text-color":"red"}},[e._v("\n            Disabled\n          ")])],1),n("q-td",{key:"report",attrs:{props:t}},[e._v("\n          "+e._s(t.row.report)+"\n        ")]),n("q-td",{key:"stickers",staticStyle:{color:"green"},attrs:{props:t}},[e._v("\n          "+e._s(e.locStickers[t.row.index])+"\n          "),n("q-popup-edit",{attrs:{title:"Change Sticker",buttons:"",persistent:""},on:{save:e.changeStickers},model:{value:e.locStickers[t.row.index],callback:function(n){e.$set(e.locStickers,t.row.index,e._n(n))},expression:"locStickers[props.row.index]"}},[n("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Stickers hint"},model:{value:e.locStickers[t.row.index],callback:function(n){e.$set(e.locStickers,t.row.index,e._n(n))},expression:"locStickers[props.row.index]"}})],1)],1),n("q-td",{key:"stars",attrs:{props:t}},[e._v("\n          "+e._s(t.row.stars)+"\n        ")]),n("q-td",{key:"action",attrs:{props:t}},[n("q-btn",{attrs:{flat:"",icon:"delete",disable:t.row.isMember},on:{click:function(n){return e.toDeleteStudent(t.row.name)}}})],1)],1)]}},{key:"no-data",fn:function(t){t.icon,t.message,t.filter;return[n("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[n("span",[e._v("\n          You don't have any student, add student by press\n        ")]),n("q-icon",{attrs:{size:"2em",name:"add"}})],1)]}}])}),n("q-card",{staticClass:"q-mt-lg"},[n("messages")],1),n("membership-update",{attrs:{"student-gid":e.actStudent,"membership-active":e.membershipShow},on:{memebershipClose:e.membershipDeactive}}),n("add-student",{attrs:{active:e.addStudent},on:{studentAddCompleted:e.addStudentDone}})],1)},r=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),o=n.n(s),i=n("2f62"),l=n("63fb");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"StudentTable",components:{"membership-update":n("e416").default,"add-student":n("717e").default,messages:n("d99d").default},props:{loading:{type:Boolean,default:!0}},data:function(){return{alert:!1,errorId:0,active:!1,enableAi:[],addStudent:!1,delStudent:!1,delName:"",actStudent:"",gid:"",upperAssignment:"",newAssignment:[],locStickers:[],membershipShow:!1,visibleColumns:["name","password","level","assignment","isMember","membershipStop","aiEnabled","action"],columns:[{name:"gid",label:"Gid",align:"center",field:"gid",sortable:!0},{name:"name",required:!0,align:"center",label:"Name",field:"name",sortable:!0},{name:"password",align:"center",label:"Password",field:"password",sortable:!1},{name:"level",align:"center",label:"Level",field:"level",sortable:!0},{name:"assignment",align:"center",label:"Assignment",field:"assignment",sortable:!1},{name:"isMember",align:"center",label:"Membership",field:"isMember",sortable:!1},{name:"membershipStart",align:"center",label:"Start Date",field:"membershipStart",sortable:!0},{name:"membershipStop",align:"center",label:"Expire Date",field:"membershipStop",sortable:!0},{name:"aiEnabled",align:"center",label:"AI Enabled",field:"aiEnabled",sortable:!0},{name:"report",align:"center",label:"Report",field:"report",sortable:!1},{name:"stickers",align:"center",label:"Stickers",field:"stickers",sortable:!0},{name:"stars",align:"center",label:"Stars",field:"stars",sortable:!0},{name:"action",align:"center",label:"action",field:"action",sortable:!1}]}},computed:d({},Object(i["c"])("currentUser",["currentUser"]),{},Object(i["c"])("mentor",["currentMentor"]),{mentorEmail:function(){return this.currentUser.mentorEmail},tableData:function(){return console.log("table now = ",this.currentMentor.students),this.currentMentor.students}}),watch:{tableData:function(e){console.log("newvalue tableData - ",e);for(var t=0;t<this.tableData.length;t++)!0===this.tableData[t].aiEnabled?this.enableAi.push(!0):this.enableAi.push(!1),console.log("push new assignment - ",this.tableData[t].assignment),this.newAssignment.push(this.tableData[t].assignment),this.locStickers.push(this.tableData[t].stickers)}},mounted:function(){this.upperAssignment=""},methods:d({},Object(i["b"])("currentUser",["updateStudent"]),{},Object(i["d"])("mentor",["mentorDelStudent","setAssignment"]),{toMembershipUpdate:function(e){console.log("get membership for gid - ",e);for(var t=0;t<this.tableData.length;t++)this.tableData[t].gid===e&&console.log("membership is - ",this.tableData[t].isMember);this.actStudent=e,this.membershipShow=!0},membershipDeactive:function(){this.actStudent="",this.membershipShow=!1},addStudentDone:function(e){this.addStudent=!1,e>0&&this.$emit("refreshRequired")},toDeleteStudent:function(e){var t=this;this.$q.dialog({title:"Confirm",message:'Delete student <span class="text-red text-h5">'+e+"</span>?",html:!0,ok:{push:!0},cancel:{push:!0,color:"negative"},persistent:!0}).onOk((function(){t.$apollo.mutate({mutation:l["g"],variables:{studentName:e,mentorEmail:t.mentorEmail}}).then((function(n){!0===n.data.DelStudent?(t.mentorDelStudent(e),t.$emit("refreshRequired")):t.$q.dialog({title:"Alert",message:"Delete Student Failed!"}),console.log("delete student done - "+n.data.DelStudent)}))})).onCancel((function(){})).onDismiss((function(){}))},rowSelected:function(e){console.log("row selected - "+JSON.stringify(e)),this.gid=e},aiEnable:function(e,t,n){var a=this;console.log("toggle - ",e,t,n),this.$apollo.mutate({mutation:l["d"],variables:{gid:t,aiEnabled:e}}).then((function(e){e.data.SetAiEnabled||(a.alertMsg="Set AI Status failed",a.alert=!0)})).catch((function(e){a.alertMsg="Invalid id or assignment, if not sure, contact admistrator.",a.alert=!0,console.log(e)}))},changeAssignment:function(e,t){var n=this;e=e.toUpperCase(),this.$apollo.mutate({mutation:l["e"],variables:{gid:this.gid,assignment:e}}).then((function(t){t.data.SetAssignment?n.setAssignment(n.gid,e):(n.alertMsg="Assignment update failed",n.alert=!0)})).catch((function(e){n.alertMsg="Invalid id or assignment, if not sure, contact admistrator.",n.alert=!0,console.log(e)}))},changeStickers:function(e,t){console.log("change stickers - ",e,t)}})},p=u,m=n("2877"),b=Object(m["a"])(p,a,r,!1,null,null,null);t["default"]=b.exports},"717e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-form",[n("q-dialog",{attrs:{persistent:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("q-card",{staticStyle:{width:"450px","max-width":"80vw"}},[n("q-card-section",{attrs:{align:"center"}},[n("div",{staticClass:"row"},[n("q-space"),n("q-btn",{attrs:{flat:"",round:"",icon:"cancel"},on:{click:function(t){return e.addStudentDone(0)}}})],1)]),n("q-card-section",{attrs:{align:"center"}},[n("q-btn",{staticStyle:{color:"green"},attrs:{outline:"",label:"Add New Student"}})],1),n("q-card-section",{staticClass:"q-px-xl q-mx-xl q-mt-xl"},[n("q-input",{ref:"nameInput",attrs:{rounded:"",outlined:"",autofocus:"",color:"green",label:"Name:"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addByEnter(0)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"face",color:"orange"}})]},proxy:!0}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("q-card-section",{staticClass:"q-px-xl q-mx-xl q-mb-xl"},[n("q-input",{ref:"ageInput",attrs:{"q-ma-lg":"",rounded:"",outlined:"",color:"green",label:"Age:",type:"text"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addByEnter(1)}},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),n("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"center"}},[n("q-btn",{attrs:{label:"OK"},on:{click:function(t){return e.doAddStudent()}}})],1)],1)],1),n("q-dialog",{model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("\n          Error: Student "+e._s(e.errorName)+" already exist!\n        ")])]),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1)],1)},r=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c5f6"),n("7f7f"),n("c47a")),o=n.n(s),i=n("2f62"),l=n("63fb");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"StudentAdd",props:{active:{type:Boolean,default:!1}},data:function(){return{alert:!1,age:"",name:"",errorName:""}},computed:d({},Object(i["c"])("currentUser",["currentUser"]),{mentorEmail:function(){return this.currentUser.mentorEmail}}),updated:function(){console.log("read mentor email - "+this.mentorEmail)},methods:{doAddStudent:function(){var e=this;console.log("add: "+this.name+" age:"+this.age+" mentorEmail: "+this.mentorEmail),""!==this.name&&""!==this.age&&this.$apollo.mutate({mutation:l["b"],variables:{name:this.name,age:Number(this.age),mentorEmail:this.mentorEmail}}).then((function(t){console.log("add student: ",t.data.AddStudent.id),t.data.AddStudent.id?(console.log("add student done"+t.data.AddStudent.id),e.addStudentDone(1)):(e.errorName=t.data.AddStudent.Name,e.alert=!0)}))},addByEnter:function(e){""!==this.name&&""!==this.age?this.doAddStudent():""!==this.name?this.$refs.ageInput.focus():this.$refs.nameInput.focus()},addStudentDone:function(e){this.name="",this.age="",this.$emit("studentAddCompleted",e)}}},p=u,m=n("2877"),b=Object(m["a"])(p,a,r,!1,null,null,null);t["default"]=b.exports},"84f7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"q-gutter-y-md",staticStyle:{"max-width":"100%"}},[n("q-tabs",{staticClass:"bg-grey-3 shadow-2",attrs:{"no-caps":"",dense:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab",{attrs:{name:"profile",icon:"face",label:"Profile"}}),n("q-tab",{attrs:{name:"logs",icon:"list",label:"Task Logs"}},[n("q-badge",{attrs:{color:"red",floating:""}},[e._v("\n          2\n        ")])],1),n("q-tab",{attrs:{name:"report",icon:"list_alt",label:"AI Report",disable:!e.student.membershipActive}},[e.student.membershipActive?e._e():n("q-badge",{attrs:{color:"red",floating:""}},[e._v("\n          Premium\n        ")])],1),n("q-tab",{attrs:{name:"management",icon:"alarm",label:"Management"}},[n("q-badge",{attrs:{color:"red",floating:""}},[e._v("\n          10+\n        ")])],1)],1),n("q-separator"),n("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab-panel",{attrs:{name:"profile"}},[n("profile")],1),n("q-tab-panel",{attrs:{name:"logs"}},[n("tasklogs",{attrs:{gid:e.gid,"num-log":e.numLog,"new-log":!0}})],1),n("q-tab-panel",{attrs:{name:"report"}},[n("report",{attrs:{gid:e.gid}})],1)],1)],1)])},r=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),o=n.n(s),i=n("2f62");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"StudentPanel",components:{tasklogs:n("9c53").default,profile:n("8ee3").default,report:n("37d5").default},props:{gid:{type:String,default:""}},data:function(){return{tab:"logs",numLog:50,mentorId:1,visibleColumns:["id","name","password","level","assignment","report","membership","expire","action"],columns:[{name:"id",required:!0,label:"Id",align:"center",field:"id",sortable:!0},{name:"name",align:"center",label:"Name",field:"name",sortable:!0},{name:"password",align:"center",label:"Password",field:"password",sortable:!1},{name:"level",align:"center",label:"Level",field:"level",sortable:!0},{name:"assignment",align:"center",label:"Assignment",field:"assignment",sortable:!1},{name:"report ",align:"center",label:"Report",field:"report",sortable:!1},{name:"membership",align:"center",label:"Membership",field:"membership",sortable:!1},{name:"expire",align:"center",label:"expire",field:"expire",sortable:!0},{name:"action",align:"center",label:"action",field:"action",sortable:!1}]}},computed:c({},Object(i["c"])("mentor",["currentMentor"]),{student:function(){return this.currentMentor.students[0]}}),methods:{}},u=d,p=n("2877"),m=Object(p["a"])(u,a,r,!1,null,null,null);t["default"]=m.exports},"8ee3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-px-sm"},[n("q-card",[n("q-page-sticky",{attrs:{position:"right",offset:[100,100]}},[n("q-btn",{attrs:{rounded:"","no-caps":"",glossy:"",color:"blue",label:"Submit",size:"lg"},on:{click:function(t){return e.changeProfileDone(0)}}})],1),n("q-card-section",{staticStyle:{width:"30%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"Name",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"face"}})]},proxy:!0}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("q-card-section",{staticStyle:{width:"30%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"Age",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"face"}})]},proxy:!0}]),model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),n("q-card-section",{staticStyle:{width:"30%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"City",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"place"}})]},proxy:!0}]),model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),n("q-card-section",{staticStyle:{width:"30%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"Country",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"place"}})]},proxy:!0}]),model:{value:e.country,callback:function(t){e.country=t},expression:"country"}})],1),n("q-card-section",{staticStyle:{width:"80%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"School",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"place"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.school=""}}})]},proxy:!0}]),model:{value:e.school,callback:function(t){e.school=t},expression:"school"}})],1),n("q-card-section",{staticStyle:{width:"50%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"Added Date",dense:"",readonly:""},model:{value:e.addedDate,callback:function(t){e.addedDate=t},expression:"addedDate"}})],1),n("q-card-section",{staticStyle:{width:"50%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"Membership Data",dense:"",readonly:""},model:{value:e.membershipData,callback:function(t){e.membershipData=t},expression:"membershipData"}})],1),n("q-card-section",{staticStyle:{width:"50%"},attrs:{align:"left"}},[n("q-input",{attrs:{"bottom-slots":"",label:"Expire Date",dense:"",readonly:""},model:{value:e.expireDate,callback:function(t){e.expireDate=t},expression:"expireDate"}})],1)],1)],1)},r=[],s={name:"StudentProfile",data:function(){return{alert:!1,active:!1}},methods:{changeProfileDone:function(e){this.alert=!1,e>0&&this.$emit("changeProfile")}}},o=s,i=n("2877"),l=Object(i["a"])(o,a,r,!1,null,null,null);t["default"]=l.exports},a9b0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"flex-center"},[n("div",[n("q-splitter",{staticStyle:{height:"100%"},scopedSlots:e._u([{key:"before",fn:function(){return[n("div",{staticClass:"q-pa-md"},[n("q-tree",{attrs:{nodes:e.studentTree,"node-key":"label","selected-color":"primary",selected:e.selected,"default-expand-all":""},on:{"update:selected":function(t){e.selected=t}}})],1)]},proxy:!0},{key:"after",fn:function(){return[n("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[n("q-tab-panel",{attrs:{name:"All Students"}},[n("div",{staticClass:"row q-mb-md q-ml-sm"},[n("q-btn",{attrs:{"no-caps":"","text-color":"green",label:"Messages"},on:{click:function(t){e.msgActive=!0}}})],1),n("students-table",{attrs:{loading:e.loadingTable},on:{refreshRequired:e.refreshStudents}})],1),e._l(e.studentTree[0].children,(function(e,t){return n("q-tab-panel",{key:t,attrs:{name:e.label}},[n("students-panel",{attrs:{gid:e.gid}})],1)}))],2)]},proxy:!0}]),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}})],1)])},r=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("7f7f"),n("c47a")),o=n.n(s),i=n("2f62"),l=n("0306");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"MentorHome",components:{"students-table":n("3dda").default,"students-panel":n("84f7").default},data:function(){return{skipQueryGetStudents:!0,skipQueryMentor:!0,loadingTable:!0,studentName:"",age:0,splitterModel:15,selected:"All Students",studentTree:[{id:"root",lazy:!1,label:"All Students",children:[{lazy:!1,label:"No Student",gid:"",icon:"face"}]}]}},computed:d({},Object(i["c"])("currentUser",["currentUser"]),{},Object(i["c"])("mentor",["currentMentor"]),{updateTree:function(){return this.studentTree},mentorEmail:function(){return this.currentUser.mentorEmail},requireRefreshStudent:function(){return this.currentMentor.refreshStudent}}),watch:{requireRefreshStudent:function(e,t){console.log("require refresh: ",e,t),!0===e&&this.refreshStudents()}},beforeMount:function(){console.log("mentor home before mount - ",this.currentUser.sessionLogin),"mentor"!==this.currentUser.sessionLogin?this.$router.push("/"):this.refreshStudents()},methods:d({},Object(i["d"])("mentor",["setMentor","mentorAddStudent","setRefreshStudent"]),{},Object(i["d"])("currentUser",["updateUser"]),{updateAllStudents:function(e){if(this.loadingTable=!1,this.setMentor({mentorEmail:this.mentorEmail,contacts:[],students:[]}),console.log("Get students number: ",e.length),e.length>0){console.log("Get all GetStudents - "+e.length),this.studentTree[0].children=[];for(var t=0;t<e.length;t++){for(var n="",a=0;a<e[t].Assignments.length;a++)n=n+e[t].Assignments[a]["Kp"]+", ";n=n.slice(0,-1),console.log("membership get - ",e[t].Gid),this.mentorAddStudent({index:0,gid:e[t].Gid,name:e[t].Name,password:e[t].Password,levels:"test",isMember:e[t].IsMember,assignment:n,report:"NA",stickers:e[t].Stickers,stars:e[t].Stars,membershipStart:e[t].MembershipStart,membershipStop:e[t].MembershipStop,aiEnabled:e[t].AiEnabled}),this.studentTree[0].children.push({lazy:!1,label:e[t].Name,gid:e[t].Gid,icon:"face"})}}else console.log("student not updated yet",JSON.stringify(this.currentMentor.students))},refreshStudents:function(){this.skipQueryGetStudents=!1,this.$apollo.queries.GetStudents.refetch({mentorEmail:this.mentorEmail}),this.setRefreshStudent(!1)}}),apollo:{GetStudents:{query:l["b"],variables:function(){return{mentorEmail:this.mentorEmail}},error:function(e){console.error("We've got an error!",e)},skip:function(){return this.skipQueryGetStudents},result:function(e,t){console.log("GetStudents returns: ",e),this.updateAllStudents(e.data.GetStudents)}},mentor:{query:l["c"],variables:function(){return{mentorEmail:this.mentorEmail}},error:function(e){console.error("We've got an error!",e)},skip:function(){return this.skipQueryMentor},result:function(e,t){this.skipQueryMentor=!0,e.data.mentor?(this.setMentor({id:e.data.mentor.gId,name:e.data.mentor.name,contacts:e.data.mentor.contacts}),this.updateUser({id:e.data.mentor.gId,name:e.data.mentor.name,contacts:e.data.mentor.contacts,sessionLogin:"mentor"})):console.log("Get mentor failed")}}}},p=u,m=n("2877"),b=Object(m["a"])(p,a,r,!1,null,null,null);t["default"]=b.exports},e416:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-form",[n("q-dialog",{staticStyle:{width:"100%"},attrs:{persistent:""},model:{value:e.membershipActive,callback:function(t){e.membershipActive=t},expression:"membershipActive"}},[n("q-card",{staticStyle:{width:"80%"}},[n("q-card-section",{attrs:{align:"center"}},[n("div",{staticClass:"row"},[n("q-space"),n("q-btn",{attrs:{align:"right",dense:"",flat:"",round:"",icon:"close",color:"red"},on:{click:e.membershipClose}},[n("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("\n              Close\n            ")])],1)],1)]),n("q-card-section",{attrs:{align:"center"}},[n("q-btn",{staticStyle:{color:"green"},attrs:{"no-caps":""}},[e._v("\n          Membership for : "),n("strong",[e._v(" "+e._s(e.studentName)+" ")])])],1),n("q-card-section",{staticClass:"q-pa-lg"},[n("q-list",{attrs:{link:""}},[n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-radio",{attrs:{val:"1",color:"orange-10"},model:{value:e.plan,callback:function(t){e.plan=t},expression:"plan"}})],1),n("q-item-section",[n("q-item-label",{staticStyle:{color:"orange"}},[e._v("\n                Plan 1: Subscription Monthly by 00\n              ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                Cancel at anytime you want\n              ")])],1)],1),n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-radio",{attrs:{val:"2",color:"orange-10"},model:{value:e.plan,callback:function(t){e.plan=t},expression:"plan"}})],1),n("q-item-section",[n("q-item-label",{staticStyle:{color:"orange"}},[e._v("\n                Plan 2: One year membership for 00\n              ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                Most popular choice\n              ")])],1)],1),n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-radio",{attrs:{val:"3",color:"orange-10"},model:{value:e.plan,callback:function(t){e.plan=t},expression:"plan"}})],1),n("q-item-section",[n("q-item-label",{staticStyle:{color:"orange"}},[e._v("\n                Plan 3: Five year membership for 00\n              ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                This covers all the KS1 and KS2 years.\n              ")])],1)],1)],1),n("q-separator",{staticClass:"q-ma-sm"})],1),e.usePromotion?n("q-card-section",{staticClass:"q-pt-lg"},[n("div",{staticClass:"row q-gutter-sm"},[n("q-input",{attrs:{rounded:"",outlined:"",type:"text",color:"green",label:"Promotion Code:"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"receipt",color:"orange"}})]},proxy:!0}],null,!1,77708541),model:{value:e.promotion,callback:function(t){e.promotion=t},expression:"promotion"}}),n("q-btn",{attrs:{"no-caps":"",rounded:"",label:"Apply Code",color:"light-blue"},on:{click:e.applyCode}})],1),n("q-separator",{staticClass:"q-mx-sm q-my-lg"})],1):e._e(),n("q-card-section",{staticClass:"q-pt-lg q-mb-xl"},[n("strong",[e._v("\n          Total: Â£00.00\n        ")]),n("q-btn",{staticClass:"q-ml-xl",attrs:{"no-caps":"",rounded:"",color:"light-blue",label:"Payment"},on:{click:e.toPayment}})],1),e.isPayment?n("q-card-section",{staticClass:"q-pt-lg q-mb-xl"},[n("q-btn",{staticClass:"q-ml-xl",attrs:{"no-caps":"",rounded:"",color:"light-blue",label:"Submit"},on:{click:e.toProcessPayment}})],1):e._e()],1)],1)],1)},r=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("7f7f"),n("c47a")),o=n.n(s),i=n("2f62"),l=n("63fb");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"MembershipUpdate",props:{gid:{type:String,default:""},membershipActive:{type:Boolean,default:!1}},data:function(){return{isPayment:!1,plan:"",usePromotion:!0,promotion:""}},computed:d({},Object(i["c"])("mentor",["currentMentor"]),{studentName:function(){for(var e=0;e<this.currentMentor.students.length;e++)if(this.gid===this.currentMentor.students[e].gid)return this.currentMentor.students[e].name;return"Invalid Name"}}),methods:d({},Object(i["d"])("mentor",["setRefreshStudent"]),{membershipClose:function(){this.$emit("memebershipClose")},applyCode:function(){var e=this;console.log(this.promotion),this.$apollo.mutate({mutation:l["j"],variables:{gid:this.gid,code:this.promotion}}).then((function(t){t.data.SetPromotion?(e.setRefreshStudent(!0),e.$emit("memebershipClose")):(e.alertMsg="Promotion Code Sending failed",e.alert=!0)})).catch((function(t){e.alertMsg="Invalid student or promotion code, if not sure, contact admistrator.",e.alert=!0,console.log(t)}))},toPayment:function(){console.log("To payment page"),this.isPayment=!0},toProcessPayment:function(){console.log("Process payment ... ...")}})},p=u,m=n("2877"),b=Object(m["a"])(p,a,r,!1,null,null,null);t["default"]=b.exports}}]);