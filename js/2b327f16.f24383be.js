(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2b327f16"],{1968:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mx-lg q-px-lg"},[a("q-table",{attrs:{title:"Today's Homework",data:t.assignmentData,columns:t.columns,separator:"cell","row-key":"name","table-header-style":{backgroundColor:"lightblue"},"fixed-center":"",bordered:"",dense:"",loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(e){return[a("div",{staticClass:"col-4 q-table__title"},[t._v("\n        Today's Homework\n      ")]),a("q-space"),a("q-btn",{attrs:{flat:"",disable:""}},[t._v("\n        Level: "+t._s(t.mathLevel)+"\n      ")])]}},{key:"body-cell-play",fn:function(e){return a("q-td",{attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"play_circle_outline"},on:{click:function(a){return t.toRunTask(e.row.name)}}})],1)}},{key:"body-cell-done",fn:function(t){return a("q-td",{attrs:{props:t}},[t.row.done?a("q-btn",{attrs:{flat:"",color:"green",icon:"done_outline"}}):a("q-spinner-hourglass",{attrs:{color:"grey",size:"sm"}})],1)}}])}),a("runTask",{attrs:{active:t.active,taskid:t.currentTaskId},on:{completed:t.processTaskClosed}}),t.devMode?a("div",{staticClass:"row"},[a("q-input",{staticStyle:{width:"20px"},attrs:{label:"I"},model:{value:t.text1,callback:function(e){t.text1=e},expression:"text1"}}),a("q-input",{staticStyle:{width:"40px"},attrs:{label:"has"},model:{value:t.text2,callback:function(e){t.text2=e},expression:"text2"}}),a("q-input",{staticStyle:{width:"30px"},attrs:{label:"an"},model:{value:t.text4,callback:function(e){t.text4=e},expression:"text4"}}),a("q-input",{staticStyle:{width:"40px","font-size":"10pt"},attrs:{label:"dog."},model:{value:t.text3,callback:function(e){t.text3=e},expression:"text3"}})],1):t._e()],1)},s=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(r),i=(a("7f7f"),a("2f62"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"StudentAssignment",components:{runTask:a("ac5f").default},data:function(){return{devMode:!1,text1:"",text2:"",text3:"",text4:"",active:!1,currentTaskId:"NA",loading:!1,columns:[{name:"Task",required:!0,label:"Task",align:"center",field:function(t){return t.name},format:function(t){return"".concat(t)},sortable:!0},{name:"Description",align:"center",label:"Description",field:"Description",sortable:!1},{name:"play",align:"center",label:"play",field:"play",sortable:!1},{name:"done",align:"center",label:"Done",field:"done",sortable:!1}]}},computed:c({},Object(i["c"])("student",["currentStudent"]),{assignmentData:{get:function(){for(var t=[],e=0;e<this.currentStudent.assignment.length;e++)t.push({name:this.currentStudent.assignment[e]["k_task"],Description:this.currentStudent.assignment[e]["k_desc"],done:!1});return t},set:function(t){}},mathLevel:function(){return this.currentStudent.levels["k_math"]}}),mounted:function(){console.log("mounted assignment component")},updated:function(){},methods:{toRunTask:function(t){for(var e=0;e<this.assignmentData.length;e++)this.assignmentData[e].name===t&&this.assignmentData[e].done;this.currentTaskId=t,this.active=!0},processTaskClosed:function(t){if(t>=2)for(var e=0;e<this.assignmentData.length;e++)this.assignmentData[e].name===this.currentTaskId&&(this.assignmentData[e].done=!0);this.currentTaskId="NA",this.active=!1}}},d=u,p=a("2877"),g=Object(p["a"])(d,n,s,!1,null,null,null);e["default"]=g.exports},4971:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{staticStyle:{width:"100%, hight: 100%"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md",staticStyle:{"max-width":"100%"}},[a("q-tabs",{staticClass:"bg-grey-3 shadow-2",attrs:{"no-caps":"",dense:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"pokemon",icon:"face",label:"pokemon"}}),a("q-tab",{attrs:{name:"fruit",icon:"mail",label:"fruit"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"pokemon"}},[a("div",{staticClass:"row flex"},t._l(t.pokemonData,(function(e){return a("div",{key:e.id,staticClass:"q-gutter-xl"},[a("div",{staticClass:"q-ma-md"},[a("q-img",{staticClass:"q-ma-md",staticStyle:{height:"120px",width:"120px"},attrs:{src:e.path}},[a("div",{staticClass:"absolute-top-right",staticStyle:{width:"5px",height:"5px"}},[a("q-checkbox",{staticClass:"absolute-top-right",attrs:{dense:"",val:e.name},on:{input:t.choose},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1)])],1)])})),0)]),a("q-tab-panel",{attrs:{name:"fruit"}},[a("div",{staticClass:"row flex"},t._l(t.fruitData,(function(e){return a("div",{key:e.id,staticClass:"q-gutter-xl"},[a("q-img",{staticStyle:{height:"60px",width:"60px"},attrs:{src:e.path}},[a("div",{staticClass:"absolute-top-right",staticStyle:{width:"5px",height:"5px"}},[a("q-checkbox",{staticClass:"absolute-top-right",attrs:{dense:"",val:e.name},on:{input:t.choose},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1)])],1)})),0)])],1)],1)])])},s=[],r=(a("c5f6"),{name:"Stickers",props:{active:{type:Boolean,default:!1},selectNum:{type:Number,default:0}},data:function(){return{tab:"pokemon",pokemonData:[],fruitData:[],selection:[]}},created:function(){for(var t=1;t<26;t++)this.pokemonData.push({id:t,path:"statics/stickers/pokemon/pm ("+t+").jpg",name:"pokemon/pm ("+t+").jpg"});for(var e=1;e<12;e++)this.fruitData.push({id:e,path:"statics/stickers/fruit/fruit ("+e+").jpg",name:"fruit/fruit ("+e+").jpg"})},methods:{choose:function(){console.log("updated "+this.selection),this.selection.length>=this.selectNum&&this.$emit("selectSticker",this.selection)}}}),o=r,i=a("2877"),l=Object(i["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},6076:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex-center q-pa-md"},[a("div",{staticClass:"column"},[a("q-tabs",{attrs:{"no-caps":"",dense:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-btn",{staticClass:"text-weight-bolder",attrs:{flat:"","no-caps":"",size:"xl",color:"grey-1","text-color":"orange"}},[t._v("\n        Welcom "+t._s(t.currentStudent.name)+"!\n      ")]),a("q-space"),a("q-tab",{staticClass:"text-blue",attrs:{name:"assignment",icon:"face",label:"assignment"}}),a("q-tab",{staticClass:"text-blue",attrs:{name:"logs",icon:"mail",label:"Task Logs"}}),a("q-tab",{staticClass:"text-blue",attrs:{name:"stickerTable",icon:"insert_photo",label:"Stickers"}},[a("q-badge",{attrs:{color:"red",floating:""}},[t._v("\n          "+t._s(t.currentStudent.stickers)+"\n        ")])],1),a("q-tab",{staticClass:"text-blue",attrs:{name:"message",icon:"chat",label:"Messages"}},[t.numNewMsg>0?a("q-badge",{attrs:{color:"red",floating:""}},[t._v("\n          "+t._s(t.numNewMsg)+"\n        ")]):t._e()],1),a("q-tab",{staticClass:"text-blue",attrs:{name:"report",icon:"star",label:"Report",disable:!t.student.membershipActive}},[t.student.membershipActive?a("q-badge",{attrs:{color:"red",floating:""}},[t._v("\n          New\n        ")]):a("q-badge",{attrs:{color:"red",floating:""}},[t._v("\n          Premium\n        ")])],1),a("q-space"),a("q-chip",{staticClass:"glossy",attrs:{color:"orange","text-color":"white","icon-right":"thumb_up"}},[t._v("\n        "+t._s(t.currentStudent.stickers)+"\n      ")]),a("q-chip",{staticClass:"glossy",attrs:{color:"orange","text-color":"white","icon-right":"star"}},[t._v("\n        "+t._s(t.currentStudent.stars)+"\n      ")]),a("q-chip",{staticClass:"glossy",attrs:{color:"orange","text-color":"white","icon-right":"face"}},[t._v("\n        "+t._s(t.numCoin)+"\n      ")])],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"assignment"}},[a("div",{staticClass:"col col-md-10 q-pa-xl"},[a("assignment")],1)]),a("q-tab-panel",{attrs:{name:"logs"}},[a("task-log",{attrs:{"student-id":Number(t.currentStudent.id),"num-log":t.numLog}})],1),a("q-tab-panel",{attrs:{name:"stickerTable"}},[a("sticker-table")],1)],1)],1)])},s=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(r),i=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"StudentHome",components:{assignment:a("1968").default,"sticker-table":a("c977").default,"task-log":a("9c53").default},data:function(){return{tab:"assignment",numCoin:"0",numNewMsg:0,numLog:10}},computed:c({},Object(i["c"])("student",["currentStudent"]),{student:function(){return this.currentStudent},stickers:function(){return this.currentStudent.stickers}}),watch:{stickers:function(t,e){console.log("Stickers changed ",e,t),this.tab="stickerTable"}},created:function(){0===this.student.id&&this.$router.push("/")},mounted:function(){this.numCoin=10*this.student.stars+this.student.stickers},methods:{}},d=u,p=a("2877"),g=Object(p["a"])(d,n,s,!1,null,null,null);e["default"]=g.exports},6391:function(t,e,a){"use strict";var n=a("6a62"),s=a.n(n);s.a},"6a62":function(t,e,a){},"7e8b":function(t,e,a){"use strict";var n=a("f324"),s=a.n(n);s.a},"9c53":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-px-sm q-mt-lg"},[a("q-table",{attrs:{title:"Logs Table",data:t.tableData,columns:t.columns,"visible-columns":t.visibleColumns,separator:"cell","wrap-cells":"","row-key":"date","table-header-style":{backgroundColor:"lightblue"},"fixed-center":"",bordered:"",dense:"",pagination:t.pagination,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return[a("div",{staticClass:"col-2 q-table__title"},[t._v("\n        Your Students\n      ")]),a("q-space"),a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}})]}},{key:"body-cell-action",fn:function(e){return a("q-td",{attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"delete"},on:{click:function(a){return t.toDeleteLog(e.row.id)}}})],1)}}])}),a("alert-msg",{attrs:{active:t.alert,msg:t.alertMsg},on:{cancelAlert:t.alertClose}})],1)},s=[],r=(a("c5f6"),a("0306")),o=a("63fb"),i={name:"LogTable",components:{"alert-msg":a("a5aa").default},props:{studentId:{type:Number,default:0},taskId:{type:String,default:""},numLog:{type:Number,default:10}},data:function(){return{alert:!1,alertMsg:"",pagination:{page:0,rowsPerPage:10},visibleColumns:["name","date","taskid","totalque","numwrong","correctperc","totalsec","avgsec","stdsec","score","action"],columns:[{name:"name",align:"center",label:"Name",field:"name",sortable:!0},{name:"date",align:"center",label:"Date",field:"date",sortable:!0},{name:"taskid",align:"center",label:"Task Id",field:"taskid",sortable:!0},{name:"totalque",align:"center",label:"Number Questions",field:"totalque",sortable:!0},{name:"numwrong ",align:"center",label:"Wrong  Number",field:"numwrong",sortable:!0},{name:"correctperc",align:"center",label:"Correct  Percentage",field:"correctperc",sortable:!0},{name:"totalsec",align:"center",label:"Total Sec",field:"totalsec",sortable:!0},{name:"avgsec",align:"center",label:"Sec/Question",field:"avgsec",sortable:!0},{name:"stdsec",align:"center",label:"Reference Sec/Que",field:"stdsec",sortable:!0},{name:"score",align:"center",label:"Score",field:"score",sortable:!0},{name:"action",align:"center",label:"action",field:"action",sortable:!1}],taskLogs:[],tableData:[],loading:!0,skipQueryTasklog:!1}},methods:{updateTasklog:function(t){if(this.loading=!1,t.length>0){console.log("Read task log updated - "+t.length),this.tableData=[];for(var e=0;e<t.length;e++)this.tableData.push({id:t[e].id,name:t[e].userName,date:String(t[e].createDate).slice(0,19),taskid:t[e].taskId,totalque:t[e].totalQue,numwrong:t[e].firstWrong,correctperc:t[e].correctPerc,totalsec:t[e].totalSec,avgsec:t[e].avgSec,stdsec:t[e].avgStdSec,score:t[e].totalScore})}else console.log("Read task log failed!")},toDeleteLog:function(t){var e=this;console.log("delete: "+t),this.$apollo.mutate({mutation:o["d"],variables:{logId:t}}).then((function(a){if(!1===a.data.delLog.ok)e.alertMsg="Update stickers failed, please report error to Support@DecomTechnology.com.",e.alert=!0;else for(var n=0;n<e.tableData.length;n++)e.tableData[n].id===t&&e.tableData.splice(n,1)}))},alertClose:function(){this.alert=!1,this.alertMsg=""}},apollo:{taskLogs:{query:r["c"],variables:function(){return{userId:this.studentId,numLog:this.numLog}},error:function(t){console.error("We've got an error!",t)},skip:function(){return this.skipQueryTasklog},result:function(t,e){this.updateTasklog(t.data.taskLogs)}}}},l=i,c=(a("6391"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},c977:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-mx-xl q-px-xl"},[a("q-separator"),a("div",{staticClass:"row"},t._l(t.stickerData,(function(t,e){return a("div",{key:e,staticClass:"col-2"},[a("q-card",{staticClass:"my-card q-ma-md"},[a("img",{staticStyle:{height:"120px",width:"120px"},attrs:{src:t.path}})])],1)})),0),a("stickers",{attrs:{active:t.showStickers,"select-num":t.selectNum},on:{selectSticker:t.getSticker}}),a("alert-msg",{attrs:{active:t.alert,msg:t.alertMsg},on:{cancelAlert:t.alertClose}})],1)},s=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(r),i=a("2f62"),l=a("63fb");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"StickerTable",components:{"alert-msg":a("a5aa").default,stickers:a("4971").default},data:function(){return{alert:!1,skipQuerySticker:!1,localStickerLog:[],alertMsg:""}},computed:u({},Object(i["c"])("student",["currentStudent"]),{stickerData:{get:function(){for(var t=[],e=0;e<this.currentStudent.stickerLog.length;e++)t.push({id:e,path:"statics/stickers/"+this.currentStudent.stickerLog[e]});return t},set:function(t){}},stickerNum:function(){return this.currentStudent.stickers},selectNum:function(){return this.currentStudent.stickers>this.currentStudent.stickerLog.length?this.currentStudent.stickers-this.currentStudent.stickerLog.length:0},showStickers:function(){return this.selectNum>0}}),updated:function(){console.log("sticker table updated: ")},methods:u({},Object(i["b"])("student",["updateStudent"]),{updateSticker:function(t){var e=[];e.push(this.currentStudent.stickerLog);for(var a=0;a<t.length;a++)e.push(t[a]);this.updateStudent({stickerLog:e})},getSticker:function(t){var e=this;console.log("get selected: "+JSON.stringify(t)),this.$apollo.mutate({mutation:l["i"],variables:{studentId:this.currentStudent.id,stickerNum:this.stickerNum,stickerLog:JSON.stringify(t)}}).then((function(a){!1===a.data.updateStudent.ok?(e.alertMsg="Update stickers failed, please report to your mentor.",e.alert=!0):e.updateSticker(t)}))},alertClose:function(){this.alert=!1,this.alertMsg=""}})},p=d,g=(a("7e8b"),a("2877")),f=Object(g["a"])(p,n,s,!1,null,"03853416",null);e["default"]=f.exports},f324:function(t,e,a){}}]);